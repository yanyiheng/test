(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06babb5f"],{"54d6":function(e,a,s){"use strict";var t=s("b999"),i=s.n(t);i.a},"74e8":function(e,a,s){"use strict";s.r(a);var t=function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"view-merchant-info"},[s("a-card",{staticStyle:{"margin-top":"35px"},attrs:{bordered:!1,title:"企业经营信息",headStyle:e.headStyle}},[s("a-form",{attrs:{form:e.enterpriseForm},on:{submit:e.modifyEnterpriseInfo}},[s("a-form-item",{attrs:{label:"公司名称",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["company_name",{initialValue:e.company_name,rules:[{required:!0,message:"公司名称"}]}],expression:"['company_name',{ initialValue: company_name, rules: [{ required: true, message: '公司名称' }]}]"}],attrs:{placeholder:"请输入公司名称"}})],1),s("a-form-item",{attrs:{label:"社会统一信用编码",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["company_code",{initialValue:e.company_code,rules:[{required:!0,message:"社会统一信用编码"}]}],expression:"['company_code', { initialValue: company_code, rules: [{ required: true, message: '社会统一信用编码' }]}]"}],attrs:{placeholder:"请输入社会统一信用编码"}})],1),s("a-form-item",{attrs:{label:"企业法人",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["legal_person",{initialValue:e.legal_person,rules:[{required:!0,message:"企业法人"}]}],expression:"['legal_person', {initialValue: legal_person, rules: [{ required: true, message: '企业法人' }]}]"}],attrs:{placeholder:"请输入企业法人"}})],1),s("a-form-item",{attrs:{label:"注册地址",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["company_address",{initialValue:e.company_address,rules:[{required:!0,message:"注册地址"}]}],expression:"['company_address', { initialValue: company_address, rules: [{ required: true, message: '注册地址' }]}]"}],attrs:{placeholder:"请输入注册地址"}})],1),s("a-form-item",{attrs:{label:"营业执照",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[s("a-upload",{staticClass:"avatar-uploader",attrs:{listType:"picture-card",showUploadList:!1,fileList:e.fileList,accept:"image/*",beforeUpload:e.beforeUpload,remove:e.handleRemove}},[e.business_license?s("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.business_license,alt:"avatar"}}):s("div",[s("a-icon",{attrs:{type:e.loading?"loading":"plus"}}),s("div",{staticClass:"ant-upload-text"},[e._v("上传")])],1)])],1),s("a-form-item",{staticStyle:{"text-align":"center"},attrs:{wrapperCol:{span:24}}},[s("a-button",{attrs:{htmlType:"submit",type:"primary",loading:e.isSubmiting,disabled:e.isSubmiting}},[e._v("保存")])],1)],1)],1)],1)},i=[],r=(s("7f7f"),s("322e")),n=s("7ded"),l={name:"index",components:{AFormItem:r["a"]},data:function(){return{enterpriseForm:this.$form.createForm(this),company_name:"",company_code:"",legal_person:"",company_address:"",business_license:"",headStyle:{height:"48px","font-size":"16px"},imageUrl:"",file:"",isSubmiting:!1,fileList:[],loading:!1}},methods:{modifyEnterpriseInfo:function(e){var a=this;e.preventDefault(),this.enterpriseForm.validateFields(function(e,s){if(!e){if(!a.business_license)return void a.$message.error("请选择营业执照");s.business_license=a.business_license,a.setEnterpriseInfo(s)}})},beforeUpload:function(e){var a=this;this.file=e;var s=e.size;if(s>2101440)return this.$message.error("图片不能大于2M"),!1;this.fileList.push(e);var t=new FileReader;return t.readAsDataURL(e),t.onload=function(e){a.business_license=e.target.result},!1},handleRemove:function(e){this.file=null,this.fileList=[]},setEnterpriseInfo:function(e){var a=this;this.isSubmiting=!0,Object(n["a"])(e,2).then(function(e){if(a.isSubmiting=!1,e&&0==e.code){var s=e.data;s.businessCode,a.$message.success("修改企业信息成功"),window.history.back()}else a.$message.error("修改企业信息失败")}).catch(function(e){a.isSubmiting=!1,a.$message.error("修改企业信息失败")})},selectPic:function(e){var a=this,s=e.target.files[0],t=s.size;s.name;if(t>2101440)this.$message.error("图片不能大于2M");else{var i=new FileReader;i.readAsDataURL(s),i.onload=function(e){a.business_license=e.target.result}}}},created:function(){var e=this.$route.query;this.company_name=e.company_name,this.company_code=e.company_code,this.legal_person=e.legal_person,this.company_address=e.company_address,this.business_license=e.business_license}},o=l,p=(s("54d6"),s("2877")),m=Object(p["a"])(o,t,i,!1,null,"ee8f2d42",null);a["default"]=m.exports},b999:function(e,a,s){}}]);
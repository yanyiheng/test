(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77d4835a"],{"47da":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-card",{attrs:{loading:t.loading,bordered:!1,"body-style":{padding:0}}},t._l(t.tradeInfos,function(e,n){return a("a-card-grid",{key:n,staticClass:"top-info"},[a("div",{staticClass:"title"},[t._v(t._s(e.title))]),a("span",{staticClass:"count"},[t._v(t._s(e.count))])])}),1),a("br"),a("br"),t.loading?t._e():a("div",[t._v("\n        时间选择：\n        "),a("a-radio-group",{staticStyle:{"margin-right":"40px"},attrs:{"default-value":"1"},model:{value:t.timeType,callback:function(e){t.timeType=e},expression:"timeType"}},[a("a-radio-button",{attrs:{value:"1"}},[t._v(" 日")]),a("a-radio-button",{attrs:{value:"2"}},[t._v(" 周")]),a("a-radio-button",{attrs:{value:"3"}},[t._v(" 月")])],1),a("a-date-picker",{directives:[{name:"show",rawName:"v-show",value:1==t.timeType,expression:"timeType == 1"}],attrs:{placeholder:"选择日期"},on:{change:t.dateChange}}),a("a-week-picker",{directives:[{name:"show",rawName:"v-show",value:2==t.timeType,expression:"timeType == 2"}],attrs:{placeholder:"选择周"},on:{change:t.weekChange}}),a("a-month-picker",{directives:[{name:"show",rawName:"v-show",value:3==t.timeType,expression:"timeType == 3"}],attrs:{placeholder:"选择月"},on:{change:t.monthChange}})],1),a("br"),a("a-spin",{attrs:{spinning:t.orderListLoading}},[a("a-card",{attrs:{bordered:!1,loading:t.loading}},[a("a-table",{attrs:{columns:t.columns,dataSource:t.orderListInfo,bordered:"",pagination:!1}},[a("template",{attrs:{rowKey:function(t){return t.id}},slot:"title"},[a("div",{staticClass:"date-amt"},[t._v("\n                        "+t._s(1==t.timeType?t.orderStartDate:t.orderStartDate+"~"+t.orderEndDate)),a("span",[t._v("总计："+t._s(t.orderTotalAmt))])])])],2)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.orderListInfo&&t.orderListInfo.length>0,expression:"orderListInfo && orderListInfo.length > 0"}],staticStyle:{"text-align":"right","margin-top":"15px"}},[a("a-pagination",{attrs:{showSizeChanger:!1,pageSize:t.pageSize,total:t.totalCount,pageSizeOptions:t.pageSizeOptions},on:{"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},showSizeChange:t.onShowSizeChange,change:t.pageChange},model:{value:t.current,callback:function(e){t.current=e},expression:"current"}})],1)],1)},o=[],r=a("89ee"),i=a("c0e4"),s=a("c1df"),d=a.n(s),c=(a("365c"),a("b775"));function u(t){return Object(c["b"])({url:"/api/v1/order_statistics",method:"get",params:t,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})}function l(t){return Object(c["b"])({url:"/api/v1/channel_statistics",method:"get",params:t,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})}var h=[{title:"序号",dataIndex:"channel_no",width:"10%",align:"center",scopedSlots:{customRender:"channel_no"}},{title:"线路名称",dataIndex:"channel_name",width:"30%",align:"center",scopedSlots:{customRender:"channel_name"}},{title:"目的地",dataIndex:"destination",width:"25%",align:"center",scopedSlots:{customRender:"destination"}},{title:"计费重量",dataIndex:"total_weight",width:"15%",align:"center",scopedSlots:{customRender:"total_weight"}},{title:"金额",dataIndex:"total_amount",width:"20%",align:"center",scopedSlots:{customRender:"total_amount"}}],p={name:"Analysis",components:{ARadioButton:i["a"],ARadioGroup:r["a"]},data:function(){return{loading:!0,orderListLoading:!1,timeType:"1",columns:h,pageSize:20,totalCount:60,current:1,pageSizeOptions:["5","10","15","20"],orderStartDate:"",orderEndDate:"",orderTotalAmt:"",orderListInfo:[],tradeInfos:[],keyId:0}},watch:{pageSize:function(t){console.log("pageSize",t)}},methods:{getOrderInfo:function(){var t=this;u({}).then(function(e){t.setOrderInfo(e.data),t.loading=!1}).catch(function(e){t.$message.error("订单信息请求出错")})},getOrderList:function(t,e,a){var n=this;l({page_num:t,start_date:e,end_date:a}).then(function(t){var e=t.data;e.map(function(t){t.id=n.keyId++}),n.orderListInfo=e,n.orderListLoading=!1}).catch(function(t){n.$message.error("订单列表信息请求失败")})},dateChange:function(t,e){this.orderStartDate=e,this.orderEndDate=e,this.getPageOneData()},weekChange:function(t,e){this.orderStartDate=d()(t).day(1).format("YYYY-MM-DD"),this.orderEndDate=d()(t).day(7).format("YYYY-MM-DD"),this.getPageOneData()},monthChange:function(t,e){var a=d()(t).month(),n="31";"02"==a?n="28":"04"!=a&&"06"!=a&&"09"!=a&&"11"!=a||(n="30"),this.orderStartDate=e+"-01",this.orderEndDate=e+"-"+n,this.getPageOneData()},setOrderInfo:function(t){var e=[];e.push({title:"今日订单数量",count:t.today_order_nums}),e.push({title:"今日交易额",count:t.today_transaction_amount}),e.push({title:"总订单数量",count:t.total_order_nums}),e.push({title:"总交易额",count:t.total_transaction_amount}),e.push({title:"本周订单数量",count:t.w_order_nums}),e.push({title:"本周订单交易额",count:t.w_transaction_amount}),e.push({title:"上周订单数量",count:t.l_w_order_nums}),e.push({title:"上周交易金额",count:t.l_w_transaction_amount}),e.push({title:"本月订单数量",count:t.m_order_nums}),e.push({title:"本月交易金额",count:t.m_transaction_amount}),e.push({title:"上月订单数量",count:t.l_m_order_nums}),e.push({title:"上月交易金额",count:t.l_m_transaction_amount}),this.tradeInfos=e},pageChange:function(t){this.current!=t&&(this.current=t,this.orderListLoading=!0,this.getOrderList(t,this.orderStartDate,this.orderEndDate))},getPageOneData:function(){this.current=1,this.getOrderList(this.current,this.orderStartDate,this.orderEndDate),this.orderListLoading=!0},onShowSizeChange:function(t,e){}},created:function(){this.orderStartDate=d()(new Date).format("YYYY-MM-DD"),this.orderEndDate=this.orderStartDate,this.getOrderInfo(),this.getPageOneData()}},g=p,m=(a("8d0e"),a("2877")),_=Object(m["a"])(g,n,o,!1,null,"4e35f3ec",null);e["default"]=_.exports},"4cad":function(t,e,a){},"8d0e":function(t,e,a){"use strict";var n=a("4cad"),o=a.n(n);o.a}}]);